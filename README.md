# seaqt-gen

`seaqt-gen` is a `C` and `Nim` binding generator for [Qt](https://www.qt.io/) based on the `C` part of the [`miqt`](https://github.com/mappu/miqt) bindings for `Go`.

The bindings are still going through significant changes, including in naming and structure - this repository is a preview intended for feedback.

The code may occasionally be **rebased** before the dust settles on a generally useful initial release.

## Acknowledgements and contributions

`seaqt-gen` is built on top of the [`miqt`](https://github.com/mappu/miqt) binding generator and wouldn't be possible without it - consider contributing to upstream directly such that the changes may benefit both.

See the relevant [upstream issue](https://github.com/mappu/miqt/issues/21) for more information.

## `seaqt` family

`seaqt-gen` is part of the `seaqt` family of projects each targeting a different aspect of Qt binding development:

* `seaqt-gen` uses `clang` to parse Qt C++ headers and outputs a corresponding `C` interface - if you have your own `C++`-based components that you wish to expose to `C`, the generator can similarly be used to wrap that (wip) - you can ignore this repository if all you want to do is use the bindings.
* [`seaqt`](https://github.com/seaqt/seaqt) contains `Qt` binding code for `C` generated by `seaqt-gen` - this is the main repository to use if you want to consume the bindings in your application or language
* [`nim-seaqt`](https://github.com/seaqt/nim-seaqt) contains binding code for the [Nim](https://github.com/nim-lang/Nim/) programming language - similarly, if all you want to do is to use Nim from Qt, you can ignore the other repos

Future repositories may be added to cover additional Qt-based libraries (such as Scintilla) as well as additional tooling. Get in touch to add yours!

## Related projects

Qt has been around for a while and as such, there are many [binding projects](https://wiki.qt.io/Language_Bindings) to choose from! `seaqt` blends ideas from all of them, but in particular:

* [`miqt`](https://github.com/mappu/miqt) - original set of bindings from which this project spawned
* [`DOtherSide`](https://github.com/filcuc/dotherside/) - `C` bindings focusing on the QML subset of Qt - similarly aims to be a base for multiple languages
* [`QtJambi`](https://github.com/OmixVisualization/qtjambi/) - `java` bindings that similar to `miqt` uses a generator approach for broad Qt coverage along with garbage-collection support
* [`cxx-qt`](https://github.com/KDAB/cxx-qt/) - more on lifetime design and metaobject integration

## License

Same as `miqt`, the bindings are MIT-licensed but you have to take care to follow Qt's licensing as well.

## Usage

See [miqt](https://github.com/mappu/miqt) documentation for general usage documentation - similar to miqt, bindings are generated by running the generator against a Qt installation.

To keep the generated code stable, bindings get generated inside a Docker container with a fixed
Qt version installed.

## Upstream changelog

`seaqt-gen` is currently developed as a set of patches against the upstream `miqt` repository that - a non-exhaustive list of changes includes:

* Binding output is directed to a separate repositories/branches to reduce clone size for users
* Versioning and module organisation more closely follows that of upstream Qt - in particular, modules follow `pkg-config`/`dll` boundaries and branches are used to track versions
* `cgo` and similar `go`-specific constructs have been removed along with the generated `go` code itself - while the binding generator itself remains written in `go`, the generated code has no dependencies beyond `Qt` itself (and `pkg-config`).
* Non-core components such as Scintilla have been dropped _for now_ - these should eventually reappear should there be interest.
* Some experimental changes to the generated C/C++ code to make it easier to use "natively" outside of `go`

As `miqt` evolves, so will this repository - for now, `seaqt-gen` gets **rebased** against upstream regularly - keep this in mind when forking.
